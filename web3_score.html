<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="styles2.css">
</head>

<body>
    <center>
        <br><br><br>
        <div id="scorebox">
            <h1>Score: 1st innings</h1>
            <br><br>
            <h1 id="bteam"></h1>
            <br><br>
            <div class="board">
                <span>
                    <h1></h1><h1 id="runs">0 </h1><h1> - </h1><h1 id="wicket">0</h1>
                    <hr style="border: 2px solid black;">
                    <h1>Over:  </h1><h1 id="Overs">0</h1>
                </span>
            </div>
            
            <br><br>
            <button type="button" onclick="score(0)" class="button">0</button>
            <button type="button" onclick="score(1)" class="button" style="background-color: pink;">1</button>
            <button type="button" onclick="score(2)" class="button" style="background-color: lightsalmon;">2</button>
            <button type="button" onclick="score(3)" class="button" style="background-color: lightseagreen;">3</button>
            <br><br>
            <button type="button" onclick="score(4)" class="button" style="background-color: blue;">4</button>
            <button type="button" onclick="score(5)" class="button" style="background-color: whitesmoke;">5</button>
            <button type="button" onclick="score(6)" class="button" style="background-color: red;">6</button>
            <button type="button" onclick="wicket(-1)" class="button" style="background-color: lightgray;">W</button>
            <br><br><br>

            <div>
                <span id="batscore">Batsmen1: <span id="st"><strong>0</strong></span></span>
                <span id="batscore">Batsmen2: <span id="nst"><strong>0</strong></span></span>
            </div>
            <br>
            <div>
                <span id="batscore">Bowler1: <span id="bst"><strong>0-0</strong></span></span>
                <span id="batscore">Bowler2: <span id="bnst"><strong>0-0</strong></span></span>
            </div>
        </div>
    </center>

    <script>
        var runs = 0, balls = 0, overs = 0, wickets = 0, total = 0 , st=0,flag=0,nst=0,bstwkt=0,bnstwkt=0,bstrun=0,bnstrun=0,bflag=0;
        var bat_team=localStorage.getItem('bat');
        document.getElementById("bteam").textContent=bat_team;

        function score(value) {
            if (balls === 5) {
                if (wickets === 10) {
                    runs = total;
                    if(bflag === 0){
                        bstwkt+=1;
                        bflag=-1;
                    }
                    else if(bflag === 1){
                        bnstwkt+=1;
                        bflag=-1;
                    }
                }
                else {
                    if (flag==0){
                        if (value%2===1){
                            flag=0;
                        }
                        else{
                            flag=1;
                        }
                        st+=value;
                    }
                    else{
                        if (value%2===1){
                            flag=1;
                        }
                        else{
                            flag=0;
                        }
                        nst+=value;
                    }
                    if(bflag === 0){
                        bstrun+=value;
                    }
                    else if(bflag === 1){
                        bnstrun+=value;
                    }
                    runs += value;
                    total = runs;
                    balls = (balls + 1) % 6;
                    overs += 1;
                    if(overs%2 === 0){
                        bflag=0;
                        bstrun=0
                        bstwkt=0
                    }
                    else{
                        bflag=1;
                        bnstrun=0;
                        bnstwkt=0;
                    }
                }

            }
            else {
                if (wickets === 10) {
                    runs = total;
                    if(bflag === 0){
                        bstwkt+=1;
                        bflag=-1;
                    }
                    else if(bflag === 1){
                        bnstwkt+=1;
                        bflag=-1;
                    }
                }
                else {
                    if (flag==0){
                        if (value%2===0){
                            flag=0;
                        }
                        else{
                            flag=1;
                        }
                        st+=value;
                    }
                    else{
                        if (value%2===0){
                            flag=1;
                        }
                        else{
                            flag=0;
                        }
                        nst+=value; 
                    }
                    if(bflag === 0){
                        bstrun+=value;
                    }
                    else if(bflag === 1){
                        bnstrun+=value;
                    }
                    runs += value;
                    total = runs;
                    balls = (balls + 1) % 6;
                }
            }
            document.getElementById("runs").innerHTML = total;
            document.getElementById("Overs").innerHTML = overs + "." + balls;
            document.getElementById("st").innerHTML=st;
            document.getElementById("nst").innerHTML=nst;
            document.getElementById("bst").innerHTML=bstwkt + "-" + bstrun;
            document.getElementById("bnst").innerHTML=bnstwkt + "-" + bnstrun;
        }
        
        function wicket(out) {
            if (out === -1 && wickets != 10) {
                if (balls === 5) {
                    balls = 0;
                    wickets += 1;
                    overs += 1;
                    if(flag === 0){
                        st=0;
                    }
                    else{
                        nst=0;
                    }
                    if(bflag === 0){
                        bstwkt+=1;
                    }
                    else if(bflag === 1){
                        bnstwkt+=1;
                    }
                    if(overs%2 === 0){
                        bflag=0;
                        bstrun=0
                        bstwkt=0
                    }
                    else{
                        bflag=1;
                        bnstrun=0;
                        bnstwkt=0;
                    }
                }
                else {
                    balls = (balls + 1) % 6;
                    wickets += 1;
                    if(flag === 0){
                        st=0;
                    }
                    else{
                        nst=0;
                    }
                    if(bflag === 0){
                        bstwkt+=1;
                    }
                    else if(bflag ===1){
                        bnstwkt+=1;
                    }
                }
            }
            else if (out === -1 && wickets === 10){
                bflag=-1;
            }
            
            document.getElementById("runs").innerHTML = runs;
            document.getElementById("wicket").innerHTML = wickets;
            document.getElementById("Overs").innerHTML = overs + "." + balls;
            document.getElementById("st").innerHTML=st;
            document.getElementById("nst").innerHTML=nst;
            document.getElementById("bst").innerHTML=bstwkt + "-" + bstrun;
            document.getElementById("bnst").innerHTML=bnstwkt + "-" + bnstrun;
        }
    </script>
</body>

</html>